// Table creation 
CREATE TABLE groups (
id               INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL, 
parent_id        INTEGER         , 
Name                TEXT NOT NULL, 
DateAdded           TEXT NOT NULL, 
NumDailyReports  INTEGER NOT NULL, 
GroupCode           TEXT UNIQUE NOT NULL, 
ObserverPassword    TEXT NOT NULL, 
MemberPassword      TEXT NOT NULL, 
AdminPassword       TEXT NOT NULL,  
group_size       INTEGER NOT NULL, 
FOREIGN KEY(parent_id) REFERENCES groups(id)
);

// Old implementation. See below for new 
CREATE TABLE users (
id       INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL, 
group_id INTEGER NOT NULL, 
Name        TEXT NOT NULL, 
DateAdded   TEXT NOT NULL, 
chat_id     TEXT         , 
role        TEXT NOT NULL, 
rank     INTEGER NOT NULL, 
FOREIGN KEY(group_id) REFERENCES groups(id)
);

CREATE TABLE users (
id       INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL, 
group_id INTEGER NOT NULL, 
Name        TEXT NOT NULL, 
DateAdded   TEXT NOT NULL, 
FOREIGN KEY(group_id) REFERENCES groups(id)
);

CREATE TABLE attendance (
id            INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL, 
group_id      INTEGER NOT NULL, 
user_id       INTEGER NOT NULL, 
TimePeriod    INTEGER NOT NULL, 
Date             TEXT NOT NULL, 
AttendanceStatus TEXT NOT NULL, 
FOREIGN KEY(group_id) REFERENCES groups(id), 
FOREIGN KEY(user_id) REFERENCES users(id)
); 

CREATE TABLE admins (
id       INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL, 
group_id INTEGER NOT NULL, 
user_id  INTEGER         , 
DateAdded   TEXT NOT NULL, 
chat_id     TEXT NOT NULL, 
role        TEXT NOT NULL, 
FOREIGN KEY(group_id) REFERENCES groups(id), 
FOREIGN KEY(user_id) REFERENCES users(id)
);



// Inserting new group 
INSERT INTO groups (
parent_id, Name, DateAdded, GroupCode, 
ObserverPassword, MemberPassword, AdminPassword
) 
VALUES (?, ?, datetime('now'), ?, ?, ?, ?, ?)

INSERT INTO groups (
Name, DateAdded, GroupCode, 
ObserverPassword, MemberPassword, AdminPassword
)
VALUES (?, datetime('now'), ?, ?, ?, ?, ?)


Name                TEXT NOT NULL, 
DateAdded           TEXT NOT NULL, 
GroupCode           TEXT NOT NULL, 
ObserverPassword    TEXT NOT NULL, 
MemberPassword      TEXT NOT NULL, 
AdminPassword       TEXT NOT NULL, 